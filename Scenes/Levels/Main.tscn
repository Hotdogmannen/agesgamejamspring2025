[gd_scene load_steps=20 format=3 uid="uid://dwm4ixrcj6cql"]

[ext_resource type="PackedScene" uid="uid://vp1hgaqoi3fq" path="res://Scenes/GameManager.tscn" id="1_a113d"]
[ext_resource type="Script" uid="uid://d3tmt14e2kgsp" path="res://Scripts/SaveAndLoadSystem/SaveAndLoad.cs" id="2_d31q8"]
[ext_resource type="Material" uid="uid://ck70jlwfynm0u" path="res://Material/WaterMaterial.tres" id="3_t355s"]
[ext_resource type="PackedScene" uid="uid://c0ome0na4fvjv" path="res://Scenes/GhostShip.tscn" id="4_07780"]
[ext_resource type="PackedScene" uid="uid://cd7g03edhvqjq" path="res://Scenes/VideTestStuff/player_boat.tscn" id="5_d31q8"]
[ext_resource type="Material" uid="uid://cfflaoyirp1j2" path="res://Material/BuoyRopeMaterial.tres" id="5_t65c0"]
[ext_resource type="PackedScene" uid="uid://drvp4poe30tp" path="res://Scenes/VideTestStuff/ambient_player.tscn" id="6_oi5um"]
[ext_resource type="Script" uid="uid://scr6sbhn46fh" path="res://Scenes/Levels/PathInstantiate.cs" id="7_saai4"]
[ext_resource type="PackedScene" uid="uid://gg8bik5u4fhx" path="res://Scenes/VideTestStuff/buoy.tscn" id="8_nl3m6"]
[ext_resource type="PackedScene" uid="uid://dirtldeda78ec" path="res://Scenes/ModelScenes/rock_1.tscn" id="9_4ih0k"]
[ext_resource type="PackedScene" uid="uid://bjevhumcu1iol" path="res://Scenes/ModelScenes/rock_2.tscn" id="10_mv52a"]
[ext_resource type="PackedScene" uid="uid://cbbbloecfxwim" path="res://Scenes/ModelScenes/rock_3.tscn" id="11_otbr7"]
[ext_resource type="PackedScene" uid="uid://dvgj1w0lekeun" path="res://Scenes/Goal.tscn" id="12_mv52a"]
[ext_resource type="Environment" uid="uid://dbchqsk3a40oy" path="res://Material/Felix_Environment.tres" id="13_dm2qe"]
[ext_resource type="PackedScene" uid="uid://hwf2tjye6ymm" path="res://Scenes/VideTestStuff/booster_pad.tscn" id="13_otbr7"]
[ext_resource type="PackedScene" uid="uid://n7k0cxi05ifw" path="res://Scenes/ModelScenes/Lighthouse.tscn" id="14_5wxa7"]

[sub_resource type="PlaneMesh" id="PlaneMesh_07780"]

[sub_resource type="Curve3D" id="Curve3D_4ih0k"]
closed = true
bake_interval = 30.0
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -7.88899, 0, -8.59044, 0, 0, 0, 0, 0, 0, -9.32476, 0, 6.93791, 0, 0, 0, 0, 0, 0, -9.535, 0, 19.058, 0, 0, 0, 0, 0, 0, -18.3212, 0, 35.1174, 0, 0, 0, 0, 0, 0, -27.5059, 0, 36.8038, 0, 0, 0, 0, 0, 0, -49.9872, 0, 27.2371, 0, 0, 0, 0, 0, 0, -64.0658, 0, 38.2979, 0, 0, 0, 0, 0, 0, -68.5708, 0, 60.018, 0, 0, 0, 0, 0, 0, -76.8649, 1.90735e-06, 53.2103, 0, 0, 0, 0, 0, 0, -80.4357, -1.2815e-06, 25.2355, 0, 0, 0, 0, 0, 0, -78.8702, 0, 8.14283, 0, 0, 0, 0, 0, 0, -62.3558, 0, -2.1479, 0, 0, 0, 0, 0, 0, -44.4424, 3.8147e-06, -6.80267, 0, 0, 0, 0, 0, 0, -33.014, 0, -16.8292, 0, 0, 0, 0, 0, 0, -34.8012, 0, -71.4452, 0, 0, 0, 0, 0, 0, -39.9939, 0, -80.9593, 0, 0, 0, 0, 0, 0, -45.1462, 0, -71.2698, 0, 0, 0, 0, 0, 0, -47.8669, -3.8147e-06, -25.6395, 0, 0, 0, 0, 0, 0, -58.1673, 0, -17.3014, 0, 0, 0, 0, 0, 0, -81.9264, 0, -9.96897, 0, 0, 0, 0, 0, 0, -97.4256, 0, 2.32505, 0, 0, 0, 0, 0, 0, -110.545, 3.8147e-06, 24.2188, 0, 0, 0, 0, 0, 0, -108.94, 0, 48.4999, 0, 0, 0, 0, 0, 0, -86.5866, -9.53674e-07, 59.8531, 0, 0, 0, 0, 0, 0, -73.6017, -1.90735e-06, 74.4405, 0, 0, 0, 0, 0, 0, -56.6815, 0, 70.108, 0, 0, 0, 0, 0, 0, -48.9725, 0, 36.9689, 0, 0, 0, 0, 0, 0, -30.025, 0, 64.263, 0, 0, 0, 0, 0, 0, -11.9529, 0, 58.1837, 0, 0, 0, 0, 0, 0, -4.509, 0, 44.639, 0, 0, 0, 0, 0, 0, 8.12559, 0, 21.0719, 0, 0, 0, 0, 0, 0, 10.9533, 0, -8.19997, 0, 0, 0, 0, 0, 0, -0.304117, 0, -16.0366),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 33

[sub_resource type="Curve3D" id="Curve3D_5wxa7"]
closed = true
bake_interval = 30.0
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -95.444, 0, 43.096, 0, 0, 0, 0, 0, 0, -100.131, 0, 40.4149, 0, 0, 0, 0, 0, 0, -101.427, 0, 33.1458, 0, 0, 0, 0, 0, 0, -96.0544, 0, 29.1261, 0, 0, 0, 0, 0, 0, -89.1618, 9.53674e-07, 32.7878, 0, 0, 0, 0, 0, 0, -88.771, 0, 39.346, 0, 0, 0, 0, 0, 0, -91.791, 0, 42.969),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[node name="Root" type="Node3D"]

[node name="GameManager" parent="." instance=ExtResource("1_a113d")]

[node name="SaveAndLoad" type="Node3D" parent="." node_paths=PackedStringArray("_target", "_ghostShip")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000412226, 0.00171268, -0.00367451)
script = ExtResource("2_d31q8")
_target = NodePath("../TestBoat")
_timeBetweenSaves = 0.5
_ghostShip = NodePath("../GhostShip")

[node name="GhostShip" parent="." instance=ExtResource("4_07780")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0, 0)

[node name="Map" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.7237, 1.52588e-05, 7.4823)

[node name="Water" type="MeshInstance3D" parent="Map"]
transform = Transform3D(500, 0, 0, 0, 1, 0, 0, 0, 500, 0, -0.391561, 0)
material_override = ExtResource("3_t355s")
mesh = SubResource("PlaneMesh_07780")
skeleton = NodePath("../..")

[node name="SeaFloor" type="MeshInstance3D" parent="Map"]
transform = Transform3D(500, 0, 0, 0, 1, 0, 0, 0, 500, 0, -4.51003, 0)
mesh = SubResource("PlaneMesh_07780")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("5_t65c0")

[node name="Buoy" parent="Map" instance=ExtResource("8_nl3m6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.4897, -0.343015, 35.5807)

[node name="Buoy3" parent="Map" instance=ExtResource("8_nl3m6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.7709, -0.343015, 34.89)

[node name="Buoy2" parent="Map" instance=ExtResource("8_nl3m6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.4307, -0.343015, 45.6607)

[node name="Rock1" parent="Map" instance=ExtResource("9_4ih0k")]
transform = Transform3D(93.2501, 5.16324e-06, -30.2415, 37.7933, -40.0134, 64.4401, -15.0191, -100.687, -25.6087, 22.2672, 0.168354, 24.4389)

[node name="Rock2" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-33.8671, -93.3016, 12.1584, 74.8949, -34.5536, -56.5403, 56.9541, -10.0425, 81.5805, 23.8619, 0.550623, 17.7159)

[node name="Rock3" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(0.970576, 92.0658, -39.0249, 0.411385, 39.0228, 92.0709, 99.9945, -1.05416, -4.08116e-06, 15.049, -1.52588e-05, 20.9684)

[node name="Rock4" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-60.9608, -167.943, 21.8851, 134.811, -62.1966, -101.772, 102.517, -18.0766, 146.845, -26.3583, 0.550623, 21.2679)

[node name="Rock5" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(-58.7242, 74.6178, -31.3631, 0.411385, 39.0228, 92.0709, 80.9401, 53.9389, -23.2228, -19.4614, -1.52588e-05, 16.4059)

[node name="Rock6" parent="Map" instance=ExtResource("9_4ih0k")]
transform = Transform3D(93.2501, 5.16324e-06, -30.2415, 37.7933, -40.0134, 64.4401, -15.0191, -100.687, -25.6087, -1.35378, 0.168356, 37.1258)

[node name="Rock7" parent="Map" instance=ExtResource("9_4ih0k")]
transform = Transform3D(-11.8864, -100.63, -26.6075, 37.7933, -40.0134, 64.4401, -93.7009, -3.37343, 29.3665, -5.06327, 0.168354, -37.6693)

[node name="Rock8" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(55.7874, -13.1628, 81.9421, 74.8949, -34.5536, -56.5403, 35.7563, 92.9128, -9.4183, -11.7291, 0.550623, -39.4884)

[node name="Rock9" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(99.9709, 2.03101, -1.30749, 0.411385, 39.0228, 92.0709, 2.38019, -92.0494, 39.003, -8.77367, -1.52588e-05, -30.5715)

[node name="Path3D" type="Path3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 44.7237, -0.342549, -7.4823)
curve = SubResource("Curve3D_4ih0k")
script = ExtResource("7_saai4")
SceneToInstatiate = ExtResource("8_nl3m6")
spawnSpacing = 2.5

[node name="Rock10" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-22.2152, -93.4826, 27.7034, 74.8949, -34.5536, -56.5403, 62.4278, 8.18793, 77.6899, -49.8338, 0.550622, 29.1741)

[node name="Path3D2" type="Path3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 44.7237, -1.52588e-05, -7.4823)
curve = SubResource("Curve3D_5wxa7")
script = ExtResource("7_saai4")
SceneToInstatiate = ExtResource("8_nl3m6")
spawnSpacing = 2.5

[node name="BoosterPad2" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(-0.781302, 0, -0.624153, 0, 1, 0, 0.624153, 0, -0.781302, -54.907, -0.385047, 41.698)
EffectSharpness = 0.0

[node name="BoosterPad3" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(-0.999087, 0, 0.0427301, 0, 1, 0, -0.0427301, 0, -0.999087, -61.4208, -0.385047, 33.2745)
EffectSharpness = 0.0

[node name="BoosterPad4" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(-0.831886, 0, 0.554946, 0, 1, 0, -0.554946, 0, -0.831886, -60.5666, -0.385048, 20.4375)
EffectSharpness = 0.0

[node name="Buoy4" parent="Map" instance=ExtResource("8_nl3m6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40.5801, -0.343015, 21.7642)

[node name="BoosterPad6" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(0.999733, 0, -0.0230885, 0, 1, 0, 0.0230885, 0, 0.999733, 43.306, -0.385048, 14.7428)
EffectSharpness = 0.0

[node name="BoosterPad7" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(-0.288313, 0, 0.957536, 0, 1, 0, -0.957536, 0, -0.288313, -33.786, -0.385048, -13.8663)
EffectSharpness = 0.0

[node name="BoosterPad8" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(-0.386518, 0, 0.922282, 0, 1, 0, -0.922282, 0, -0.386518, -16.0866, -0.385048, -13.6982)
EffectSharpness = 0.0

[node name="BoosterPad9" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(-0.23977, 0, -0.970829, 0, 1, 0, 0.970829, 0, -0.23977, -45.7423, -0.385047, 44.0997)
Force = 5.0
EffectSharpness = 0.0

[node name="Rock11" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(43.9352, 168.685, -44.8912, 134.811, -62.1966, -101.772, -110.886, -8.78016, -141.517, 47.5054, 0.550623, 44.4189)

[node name="Rock12" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(45.1479, -82.2262, 34.6484, 0.411386, 39.0228, 92.0709, -89.2272, -41.4256, 17.9563, 41.4667, -1.52588e-05, 50.3129)

[node name="Rock13" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(0.970576, 92.0658, -39.0249, 0.411385, 39.0228, 92.0709, 99.9945, -1.05416, -4.08116e-06, -46.1186, -1.52588e-05, 57.117)

[node name="Rock14" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-33.8671, -93.3016, 12.1584, 74.8949, -34.5536, -56.5403, 56.9541, -10.0425, 81.5805, -57.4548, -1.52588e-05, 52.5503)

[node name="Rock15" parent="Map" instance=ExtResource("9_4ih0k")]
transform = Transform3D(93.2501, 5.16324e-06, -30.2415, 37.7933, -40.0134, 64.4401, -15.0191, -100.687, -25.6087, -49.6051, -1.52588e-05, 52.4301)

[node name="Rock16" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-33.8671, -93.3016, 12.1584, 74.8949, -34.5536, -56.5403, 56.9541, -10.0425, 81.5805, -70.8856, -1.52588e-05, 37.6868)

[node name="Rock17" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-83.7681, 19.5181, -122.89, 112.342, -51.8305, -84.8103, -53.4985, -139.401, 14.3269, -68.7628, -1.71661e-05, 50.4569)

[node name="Rock18" parent="Map" instance=ExtResource("9_4ih0k")]
transform = Transform3D(-29.0988, -99.5034, -20.6843, 37.7933, -40.0134, 64.4401, -89.8577, 15.3933, 33.8011, -61.6488, -1.66893e-05, 47.7826)

[node name="Rock19" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(0.970576, 92.0658, -39.0249, 0.411385, 39.0228, 92.0709, 99.9945, -1.05416, -4.08116e-06, -74.5615, -1.52588e-05, 43.9805)

[node name="Lighthouse" parent="Map" instance=ExtResource("14_5wxa7")]
transform = Transform3D(-0.768842, 0, 0.639439, 0, 1, 0, -0.639439, 0, -0.768842, 12.1667, 2.61339, 84.9157)

[node name="Rock20" parent="Map" instance=ExtResource("11_otbr7")]
transform = Transform3D(62.6138, 71.6885, -30.6638, 0.411385, 39.0228, 92.0709, 77.9703, -57.7752, 24.1387, -4.50602, -0.968261, -7.85295)

[node name="Rock21" parent="Map" instance=ExtResource("10_mv52a")]
transform = Transform3D(-230.351, -101.094, -243.349, 262.133, -120.938, -197.89, -26.9273, -312.497, 155.309, 10.7984, 0.550623, 4.55482)

[node name="BoosterPad10" parent="Map" instance=ExtResource("13_otbr7")]
transform = Transform3D(0.941523, 0, -0.336947, 0, 1, 0, 0.336947, 0, 0.941523, 38.0989, -0.385048, 23.8871)
EffectSharpness = 0.0

[node name="Goal" parent="Map" node_paths=PackedStringArray("_gameManager") instance=ExtResource("12_mv52a")]
transform = Transform3D(-5.68248e-08, 0, -1.3, 0, 1.3, 0, 1.3, 0, -5.68248e-08, 4.78833, -1.43051e-05, -78.9473)
_gameManager = NodePath("../../GameManager")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.93644, -0.113408, 0.331993, -0.0894637, 0.837832, 0.538548, -0.33923, -0.534019, 0.774433, 0, 0, 0)
visible = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("13_dm2qe")

[node name="TestBoat" parent="." instance=ExtResource("5_d31q8")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
maxSpeedFOV = 4.0

[node name="AmbientPlayer" parent="." instance=ExtResource("6_oi5um")]
AudioDelayRange = Vector2(10, 15)

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.854436, 0.0257578, 0.518919, 0.410572, 0.645525, 0.643994, -0.318387, 0.763305, -0.562135, 0, 0, 0)
light_color = Color(0.985544, 0.853164, 0.868098, 1)
light_energy = 1.15
light_indirect_energy = 1.3
light_volumetric_fog_energy = 1.4
shadow_enabled = true
shadow_opacity = 0.6

[connection signal="OnCountDownFinished" from="GameManager" to="SaveAndLoad" method="StartSaving"]
[connection signal="OnCountDownFinished" from="GameManager" to="GhostShip" method="StartGhost"]
[connection signal="OnCountDownFinished" from="GameManager" to="TestBoat" method="SetCanMove"]
[connection signal="OnLevelEnded" from="GameManager" to="SaveAndLoad" method="OnLevelEnded"]
[connection signal="OnLevelEnded" from="GameManager" to="TestBoat" method="SetCantMove"]
[connection signal="OnLevelEnded" from="GameManager" to="AmbientPlayer" method="OnRaceEnd"]
[connection signal="OnShipReachedEnd" from="GhostShip" to="GameManager" method="OnShipReachedEnd"]

[editable path="Map/Goal"]
